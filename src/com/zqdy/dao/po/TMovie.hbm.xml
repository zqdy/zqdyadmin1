<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.zqdy.dao.po.TMovie" table="t_movie" >
        <id name="id" type="java.lang.Integer">
            <column name="id" />
            <generator class="identity" />
        </id>
        <property name="name" type="java.lang.String">
            <column name="name" length="50" />
        </property>
        <property name="alias" type="java.lang.String">
            <column name="alias" length="200" />
        </property>
        <property name="rateScore" type="java.lang.Float">
            <column name="rate_score" precision="12" scale="0" />
        </property>
        <property name="year" type="java.lang.String">
            <column name="year" length="50" />
        </property>
        <property name="isMember" type="java.lang.Integer">
            <column name="is_member" />
        </property>
        <property name="shortSummary" type="java.lang.String">
            <column name="short_summary" length="100" />
        </property>
        <property name="summary" type="java.lang.String">
            <column name="summary" length="65535" />
        </property>
        <property name="imageUrl" type="java.lang.String">
            <column name="image_url" length="300" />
        </property>
        <property name="weight" type="java.lang.Integer">
            <column name="weight" />
        </property>
        <property name="playCount" type="java.lang.Integer">
            <column name="play_count" />
        </property>
        <property name="commentsCount" type="java.lang.Integer">
            <column name="comments_count">
                <comment>评论次数</comment>
            </column>
        </property>
        <property name="doubanId" type="java.lang.Integer">
            <column name="douban_id">
                <comment>豆瓣id</comment>
            </column>
        </property>
        <property name="addTime" type="java.util.Date">
            <column name="addTime" length="19" />
        </property>
        
        <bag name="actorList" order-by="ind asc">
            <key column="movie_id"/>
            <one-to-many class="com.zqdy.dao.po.TMovieActor" />
        </bag>
        
        <bag name="embedList"   cascade="none"  >
            <key column="movie_id"/>
            <one-to-many class="com.zqdy.dao.po.TMovieEmbed" />
        </bag>
        
        <bag name="directorList" cascade="none" order-by="ind asc">
            <key column="movie_id"/>
            <one-to-many class="com.zqdy.dao.po.TMovieDirector" />
        </bag>
         
         <bag name="genreList"  cascade="none"  order-by="ind asc">
            <key column="movie_id"/>
            <one-to-many class="com.zqdy.dao.po.TMovieGenre" />
        </bag>
         <bag name="areaList"  cascade="none"  order-by="ind asc">
            <key column="movie_id"/>
            <one-to-many class="com.zqdy.dao.po.TMovieArea" />
        </bag>
    </class>
      <sql-query name="pro_getMovie" callable="true">   
	     <return alias="mvoie" class="com.zqdy.dao.po.TMovie">   
		     <return-property name="id" column="id" />   
		     <return-property name="name" column="name" />   
		     <return-property name="alias" column="alias" />      
		     <return-property name="rateScore" column="rate_score" />  
		     <return-property name="year" column="year" />    
		     <return-property name="commentsCount" column="comments_count" />
		     <return-property name="doubanId" column="douban_id" />
		      <return-property name="isMember" column="is_member" />   
		     <return-property name="shortSummary" column="short_summary" />
		     <return-property name="summary" column="summary" />   
		     <return-property name="imageUrl" column="image_url" />   
		     <return-property name="weight" column="weight" />   
		     <return-property name="playCount" column="play_count" />    
		     <return-property name="addTime" column="addTime" />            
	     </return> 
	     {call pro_getMovie(?,?,?,?,?,?,?,?)}   
   </sql-query>  
     
   <sql-query name="pro_getMovie_count" callable="true">  
   		 <return alias="queryCount" class="com.zqdy.dao.po.TQueryCount">			 
			<return-property name="id" column="id" />   
	     </return>  
    	 {call pro_getMovie_count(?,?,?,?,?)}  
    </sql-query>
</hibernate-mapping>
